<!DOCTYPE HTML>
<html>
<body>
  <canvas id="spiralCanvas" width="800" height="800" style="border: solid #fff;"></canvas>
  <script type="text/javascript">
    function drawSpiral(size, ecartement) {
      // ecartement: the smaller the value, the tighter the spiral
      var c=document.getElementById("spiralCanvas");
      var c2d=c.getContext("2d");
      var centerX = 400;
      var centerY = 400;
      c2d.moveTo(centerX, centerY);

      var STEPS_PER_ROTATION = 720;
      var increment = 2*Math.PI/STEPS_PER_ROTATION;
      var theta = increment;
      var newX = 400;

      while( newX - centerX < size ) {
        var newX = (centerX + ecartement*theta * Math.cos(theta)).toFixed();
        var newY = (centerY + ecartement*theta * Math.sin(theta)).toFixed(); 
        c2d.lineTo(newX, newY);
        theta = theta + increment;
      }
      c2d.stroke();
      console.log("Rappel: Ecartement choisi: ", ecartement);
      console.log("Rayon attendu: ", size);
      console.log("newX position:", newX);
      console.log("spiral radius:", newX - centerX);
    }

    drawSpiral(180, 5);
  </script>
  </body>
</html>
